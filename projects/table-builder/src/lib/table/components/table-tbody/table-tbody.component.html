<virtual-scroller
    #scroll
    [items]="source"
    [checkResizeInterval]="0"
    [scrollAnimationTime]="0"
    [parentScroll]="tableViewport"
    [stripedTable]="true"
    [bufferAmount]="clientBufferAmount"
    [executeRefreshOutsideAngularZone]="true"
    [useMarginInsteadOfTranslate]="true"
    [resizeBypassRefreshThreshold]="0"
    [enableUnequalChildrenSizes]="true"
    [modifyOverflowStyleOfParentScroll]="false"
    [style.height.px]="columnVirtualHeight"
    (vsChange)="detectChanges()"
>
    <div
        class="table-grid__cell"
        (selectstart)="(canSelectTextInTable)"
        (click)="handleRowIdleCallback(item, $event, columnsSchema[key]?.td.onClick)"
        *ngFor="let item of scroll.viewPortItems; let index = index; trackBy: trackByIdx.bind(this)"
        [style.min-height.px]="columnsSchema[key]?.td.height || clientRowHeight"
        [style.max-height.px]="columnsSchema[key]?.td.height || clientRowHeight"
        [class.table-grid__cell--resizable]="columnsSchema[key]?.resizable"
        [class.table-grid__cell--custom-cell]="columnsSchema[key]?.customColumn"
        [class.table-grid__cell--strip]="striped ? index % 2 === 0 : null"
        [class.table-grid__cell--enable-selection]="enableSelection"
        [class.table-grid__cell--selected]="selectionEntries[item[primaryKey]]"
        [class.table-grid__cell--text-bold]="columnsSchema[key]?.td.textBold"
        [ngClass]="columnsSchema[key]?.td.class"
        [ngStyle]="columnsSchema[key]?.td.style"
    >
        <div
            class="table-grid__cell--content"
            [class.table-grid__cell--nowrap]="!columnsSchema[key]?.customColumn && columnsSchema[key]?.td.nowrap"
        >
            <table-cell
                *ngIf="showedCellByDefault"
                [item]="item"
                [index]="index"
                [column-key]="key"
                [column-index]="columnIndex"
            ></table-cell>
        </div>
    </div>
</virtual-scroller>
